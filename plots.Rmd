---
title: "FlexDashboard "
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(tidyverse)
library(p8105.datasets)
library(ggplot2)

library(plotly)
```


```{r setup, include=FALSE}
data("instacart")

aisles_summary= 
  instacart |> 
  count(aisle, sort=TRUE)

aisles_summary |> 
  head(10) 
```

--------------------------------------------------------------------

### Barchart

```{r}
aisles_summary |> 
  filter(n > 10000) |> 
  mutate(aisle = fct_reorder(aisle, n)) |> #shows me aisles based on n (size)
  ggplot(aes(x = aisle, y = n, fill = aisle)) +
  geom_col(show.legend = FALSE) +
  coord_flip() ##flips the long aisle names
  labs(
    title = "Number of Items Ordered by Aisle (>10,000 orders)",
    x = "Aisle",
    y = "Number of Items Ordered"
  )

```

-------------------------------------------------------------------_

### Density Plot

```{r}
instacart |>
  filter(department %in% c("produce", "dairy eggs", "snacks")) |>
  count(department, order_hour_of_day) |>
  ggplot(aes(x = order_hour_of_day, y = n, color = department)) +
  geom_line(size = 1) +
  geom_point(size = 1.5) +
  scale_color_viridis_d(option = "plasma", begin = 0.5, end = 0.9)+
  labs(
    title = "Ordering Trends Throughout the Day",
    x = "Hour of Day",
    y = "Number of Orders",
    color = "Department"
  ) +
  theme_minimal()
```

### Boxplot

```{r}
ggp_instacart_violin = 
  instacart |> 
  filter(department %in% c("produce", "dairy eggs", "snacks")) |> 
  ggplot(aes(x = department, y = add_to_cart_order, fill =    department)) +
  geom_violin(trim = FALSE, alpha = 0.6) +
  labs(
    title = "Distribution of Add-to-Cart Order by Department",
    x = "Department",
    y = "Add-to-Cart Order") +
  scale_fill_viridis_d(option = "plasma", begin = 0.5, end = 0.9)
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 13))

ggp_instacart_violin
```

