---
title: "FlexDashboard "
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(tidyverse)
library(p8105.datasets)
library(ggplot2)

library(plotly)
```


```{rsetup, include=FALSE}
data("instacart")

aisles_summary= 
  instacart |> 
  count(aisle, sort=TRUE)

aisles_summary |> 
  head(10) 
```

--------------------------------------------------------------------

### Barchart

```{r}
aisles_summary |> 
  filter(n > 10000) |> 
  mutate(aisle = fct_reorder(aisle, n)) |> #shows me aisles based on n (size)
  ggplot(aes(x = aisle, y = n, fill = aisle)) +
  geom_col(show.legend = FALSE) +
  coord_flip() ##flips the long aisle names
  labs(
    title = "Number of Items Ordered by Aisle (>10,000 orders)",
    x = "Aisle",
    y = "Number of Items Ordered"
  )

```

-------------------------------------------------------------------_

### Density Plot

```{r}
instacart |>
  filter(department %in% c("produce", "dairy eggs", "snacks")) |>
  ggplot(aes(x = order_hour_of_day, fill = department)) +
  geom_density(alpha = 0.4) +
  labs(
    title = "Distribution of Order Times by Department",
    x = "Hour of Day (0â€“23)",
    y = "Density",
    fill = "Department"
  ) +
  theme_minimal()
```

### Boxplot

```{r}
ggp_instacart_violin = 
  instacart |> 
  filter(department %in% c("produce", "dairy eggs", "snacks")) |> 
  ggplot(aes(x = department, y = add_to_cart_order, fill = department)) +
  geom_violin(trim = FALSE, alpha = 0.6) +
  labs(
    title = "Distribution of Add-to-Cart Order by Department",
    x = "Department",
    y = "Add-to-Cart Order"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 13, hjust = 0.5),
    axis.text.x = element_text(angle = 25, hjust = 1)
  )

ggp_instacart_violin
```

